{"version":3,"file":"index.es.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/ReactSurvey/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useState, useEffect } from 'react';\n\nimport './index.css';\n\nconst themes = {\n  purple: ['#6D4B94', '#7C6497', '#6D4B943B'],\n  red: ['#E23D3D', '#EF4545', '#FF28283B'],\n  blue: ['#5674E0', '#5674E0', '#5674E03B'],\n  black: ['#303030', '#303030', '#3030303B'],\n  white: ['#ffffff', '#ffffff', '#ffffff3B'],\n  cyan: ['#00BCDD', '#00BCDD', '#00BCDD3B'],\n};\n\nexport const ReactSurvey = ({\n  question,\n  answers,\n  onVote,\n  userEmail = '',\n  listVoted = [],\n  customStyles = {\n    questionSeparator: true,\n    questionSeparatorWidth: 'question',\n    questionBold: true,\n    questionColor: '#303030',\n    align: 'center',\n    theme: 'black',\n  },\n  disable = false,\n}) => {\n  const [totalVotes, setTotalVotes] = useState(0);\n  const [voted, setVoted] = useState(false);\n\n  const calculatePercent = (votes, total) => {\n    if (votes === 0 && total === 0) {\n      return '0%';\n    }\n    return `${parseInt((votes / total) * 100, 10)}%`;\n  };\n\n  const alignPoll = (customAlign) => {\n    if (customAlign === 'left') {\n      return 'flex-start';\n    } else if (customAlign === 'right') {\n      return 'flex-end';\n    } else {\n      return 'center';\n    }\n  };\n  const obtainColors = (customTheme) => {\n    const colors = themes[customTheme];\n    if (!colors) {\n      return themes['black'];\n    }\n    return colors;\n  };\n\n  const colors = obtainColors(customStyles.theme);\n\n  useEffect(() => {\n    setTotalVotes(answers.reduce((total, answer) => total + answer.votes, 0));\n  }, []);\n\n  const vote = () => {\n    if (!disable) {\n      setTotalVotes(totalVotes + 1);\n      setVoted(!voted);\n    }\n  };\n\n  const checkIfVoted = listVoted.includes(userEmail);\n\n  return (\n    <article\n      className={`animate__animated animate__fadeIn animate__faster poll`}\n      style={{\n        textAlign: customStyles.align,\n        alignItems: alignPoll(customStyles.align),\n      }}\n    >\n      <h3\n        className='question'\n        style={{\n          borderWidth: customStyles.questionSeparator ? '1px' : '0',\n          alignSelf: customStyles.questionSeparatorWidth === 'question' ? 'center' : 'stretch',\n          fontWeight: customStyles.questionBold ? 'bold' : 'normal',\n          color: customStyles.questionColor,\n        }}\n      >\n        {question}\n      </h3>\n      <ul className='answers'>\n        {answers.map((answer) => (\n          <li key={answer.option}>\n            {!checkIfVoted ? (\n              <button\n                className={`animate__animated  animate__fadeIn animate__faster  option ${customStyles.theme}`}\n                style={{ color: colors[0], borderColor: colors[1] }}\n                type='button'\n                onClick={(e) => {\n                  onVote(answer);\n                  vote(answer.option);\n                }}\n                aria-label={answer.option}\n                disabled={disable}\n              >\n                {answer.option}\n              </button>\n            ) : (\n              <div\n                className={`animate__animated animate__fadeIn animate__faster result`}\n                style={{ color: colors[0], borderColor: colors[1], padding: '0px 15px' }}\n              >\n                <div\n                  className='fill'\n                  style={{\n                    width: calculatePercent(answer.votes, totalVotes),\n                    backgroundColor: colors[2],\n                  }}\n                />\n                <div className='label'>\n                  <span className='percent' style={{ color: colors[0] }}>\n                    {calculatePercent(answer.votes, totalVotes)}\n                  </span>\n                  <span className={`answer ${voted ? 'vote' : ''}`} style={{ color: colors[0] }}>\n                    {answer.option}\n                  </span>\n                </div>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n      <p className='votes'>{`${totalVotes} vote${totalVotes !== 1 ? 's' : ''}`}</p>\n    </article>\n  );\n};\n"],"names":["themes","purple","red","blue","black","white","cyan","ReactSurvey","question","answers","onVote","userEmail","listVoted","customStyles","questionSeparator","questionSeparatorWidth","questionBold","questionColor","align","theme","disable","totalVotes","setTotalVotes","useState","voted","setVoted","calculatePercent","votes","total","parseInt","alignPoll","customAlign","obtainColors","customTheme","colors","useEffect","reduce","answer","vote","checkIfVoted","includes","React","createElement","className","style","textAlign","alignItems","borderWidth","alignSelf","fontWeight","color","map","key","option","borderColor","type","onClick","e","disabled","padding","width","backgroundColor"],"mappings":"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"}
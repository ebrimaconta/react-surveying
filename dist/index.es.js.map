{"version":3,"file":"index.es.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../components/ReactSurvey/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useState } from 'react';\nimport animate from 'animate.css';\nimport styles from './index.css';\n\nconst themes = {\n  purple: ['#6D4B94', '#7C6497', '#6D4B943B'],\n  red: ['#E23D3D', '#EF4545', '#FF28283B'],\n  blue: ['#5674E0', '#5674E0', '#5674E03B'],\n  black: ['#303030', '#303030', '#3030303B'],\n  white: ['#ffffff', '#ffffff', '#ffffff3B'],\n  cyan: ['#00BCDD', '#00BCDD', '#00BCDD3B'],\n};\n\nexport const ReactSurvey = ({ question, answers, onVote, customStyles, disable }) => {\n  const [pollData, setPollData] = useState({\n    poll: {\n      voted: false,\n      option: '',\n    },\n    totalVotes: answers.reduce((total, answer) => total + answer.votes, 0),\n  });\n\n  const calculatePercent = (votes, total) => {\n    if (votes === 0 && total === 0) {\n      return '0%';\n    }\n    return `${parseInt((votes / total) * 100)}%`;\n  };\n  const alignPoll = (customAlign) => {\n    if (customAlign === 'left') {\n      return 'flex-start';\n    } else if (customAlign === 'right') {\n      return 'flex-end';\n    } else {\n      return 'center';\n    }\n  };\n  const obtainColors = (customTheme) => {\n    const colors = themes[customTheme];\n    if (!colors) {\n      return themes['black'];\n    }\n    return colors;\n  };\n\n  const colors = obtainColors(customStyles.theme);\n\n  const setPollVote = (selectedAnswer) => {\n    const optionsOnly = answers.map((item) => item.option);\n\n    if (optionsOnly.includes(selectedAnswer)) {\n      const { poll, totalVotes } = pollData;\n      const updatedPoll = {\n        ...poll,\n        voted: true,\n        option: selectedAnswer,\n      };\n\n      if (!disable) {\n        if (!vote) {\n          setPollData({\n            poll: updatedPoll,\n            totalVotes: totalVotes + 1,\n          });\n        } else {\n          setPollData({\n            poll: updatedPoll,\n          });\n        }\n      }\n    }\n  };\n\n  const vote = (answer) => {\n    setPollVote(answer);\n    onVote(answer);\n  };\n\n  return (\n    <article\n      className={`${animate.animated} ${animate.fadeIn} ${animate.faster} ${styles.poll}`}\n      style={{\n        textAlign: customStyles.align,\n        alignItems: alignPoll(customStyles.align),\n      }}\n    >\n      <h3\n        className={styles.question}\n        style={{\n          borderWidth: customStyles.questionSeparator ? '1px' : '0',\n          alignSelf: customStyles.questionSeparatorWidth === 'question' ? 'center' : 'stretch',\n          fontWeight: customStyles.questionBold ? 'bold' : 'normal',\n          color: customStyles.questionColor,\n        }}\n      >\n        {question}\n      </h3>\n      <ul className={styles.answers}>\n        {answers.map((answer) => (\n          <li key={answer.option}>\n            {!poll.voted ? (\n              <button\n                className={`${animate.animated} ${animate.fadeIn} ${animate.faster} ${styles.option} ${\n                  styles[customStyles.theme]\n                }`}\n                style={{ color: colors[0], borderColor: colors[1] }}\n                type='button'\n                onClick={() => vote(answer.option)}\n              >\n                {answer.option}\n              </button>\n            ) : (\n              <div\n                className={`${animate.animated} ${animate.fadeIn} ${animate.faster} ${styles.result}`}\n                style={{ color: colors[0], borderColor: colors[1] }}\n              >\n                <div\n                  className={styles.fill}\n                  style={{\n                    width: calculatePercent(answer.votes, totalVotes),\n                    backgroundColor: colors[2],\n                  }}\n                />\n                <div className={styles.labels}>\n                  <span className={styles.percent} style={{ color: colors[0] }}>\n                    {calculatePercent(answer.votes, totalVotes)}\n                  </span>\n                  <span\n                    className={`${styles.answer} ${answer.option === poll.option ? styles.vote : ''}`}\n                    style={{ color: colors[0] }}\n                  >\n                    {answer.option}\n                  </span>\n                </div>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n      <p className={styles.votes}>{`${totalVotes} vote${totalVotes !== 1 ? 's' : ''}`}</p>\n    </article>\n  );\n};\n"],"names":["themes","purple","red","blue","black","white","cyan","ReactSurvey","question","answers","onVote","customStyles","disable","pollData","setPollData","useState","poll","voted","option","totalVotes","reduce","total","answer","votes","calculatePercent","parseInt","alignPoll","customAlign","obtainColors","customTheme","colors","theme","setPollVote","selectedAnswer","optionsOnly","map","item","includes","updatedPoll","vote","React","createElement","className","animate","animated","fadeIn","faster","styles","style","textAlign","align","alignItems","borderWidth","questionSeparator","alignSelf","questionSeparatorWidth","fontWeight","questionBold","color","questionColor","key","borderColor","type","onClick","result","fill","width","backgroundColor","labels","percent"],"mappings":";;;AAAA,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;EAC7B,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;EAC/B,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;EAE5B,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;;EAExD,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACrE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;EAC5C,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;;EAExB,IAAI,QAAQ,KAAK,KAAK,EAAE;IACtB,IAAI,IAAI,CAAC,UAAU,EAAE;MACnB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC3C,MAAM;MACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACzB;GACF,MAAM;IACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;GACzB;;EAED,IAAI,KAAK,CAAC,UAAU,EAAE;IACpB,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;GAChC,MAAM;IACL,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;GACjD;CACF;;;;;;ACrBD,MAAMA,MAAM,GAAG;EACbC,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,WAAW,CAAC;EAC3CC,GAAG,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,WAAW,CAAC;EACxCC,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,WAAW,CAAC;EACzCC,KAAK,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,WAAW,CAAC;EAC1CC,KAAK,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,WAAW,CAAC;EAC1CC,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,WAAW;CACzC;AAED,MAAaC,WAAW,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,MAAM;EAAEC,YAAY;EAAEC;CAAS,KAAK;EACnF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGC,QAAQ,CAAC;IACvCC,IAAI,EAAE;MACJC,KAAK,EAAE,KAAK;MACZC,MAAM,EAAE;KACT;IACDC,UAAU,EAAEV,OAAO,CAACW,MAAM,CAAC,CAACC,KAAK,EAAEC,MAAM,KAAKD,KAAK,GAAGC,MAAM,CAACC,KAAK,EAAE,CAAC;GACtE,CAAC;EAEF,MAAMC,gBAAgB,GAAGA,CAACD,KAAK,EAAEF,KAAK,KAAK;IACzC,IAAIE,KAAK,KAAK,CAAC,IAAIF,KAAK,KAAK,CAAC,EAAE;MAC9B,OAAO,IAAI;;IAEb,OAAQ,GAAEI,QAAQ,CAAEF,KAAK,GAAGF,KAAK,GAAI,GAAG,CAAE,GAAE;GAC7C;EACD,MAAMK,SAAS,GAAIC,WAAW,IAAK;IACjC,IAAIA,WAAW,KAAK,MAAM,EAAE;MAC1B,OAAO,YAAY;KACpB,MAAM,IAAIA,WAAW,KAAK,OAAO,EAAE;MAClC,OAAO,UAAU;KAClB,MAAM;MACL,OAAO,QAAQ;;GAElB;EACD,MAAMC,YAAY,GAAIC,WAAW,IAAK;IACpC,MAAMC,MAAM,GAAG9B,MAAM,CAAC6B,WAAW,CAAC;IAClC,IAAI,CAACC,MAAM,EAAE;MACX,OAAO9B,MAAM,CAAC,OAAO,CAAC;;IAExB,OAAO8B,MAAM;GACd;EAED,MAAMA,MAAM,GAAGF,YAAY,CAACjB,YAAY,CAACoB,KAAK,CAAC;EAE/C,MAAMC,WAAW,GAAIC,cAAc,IAAK;IACtC,MAAMC,WAAW,GAAGzB,OAAO,CAAC0B,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAAClB,MAAM,CAAC;IAEtD,IAAIgB,WAAW,CAACG,QAAQ,CAACJ,cAAc,CAAC,EAAE;MACxC,MAAM;QAAEjB,IAAI;QAAEG;OAAY,GAAGN,QAAQ;MACrC,MAAMyB,WAAW,GAAG;QAClB,GAAGtB,IAAI;QACPC,KAAK,EAAE,IAAI;QACXC,MAAM,EAAEe;OACT;MAED,IAAI,CAACrB,OAAO,EAAE;QACZ,IAAI,CAAC2B,IAAI,EAAE;UACTzB,WAAW,CAAC;YACVE,IAAI,EAAEsB,WAAW;YACjBnB,UAAU,EAAEA,UAAU,GAAG;WAC1B,CAAC;SACH,MAAM;UACLL,WAAW,CAAC;YACVE,IAAI,EAAEsB;WACP,CAAC;;;;GAIT;EAED,MAAMC,IAAI,GAAIjB,MAAM,IAAK;IACvBU,WAAW,CAACV,MAAM,CAAC;IACnBZ,MAAM,CAACY,MAAM,CAAC;GACf;EAED,oBACEkB,KAAA,CAAAC,aAAA;IACEC,SAAS,EAAG,GAAEC,OAAO,CAACC,QAAS,IAAGD,OAAO,CAACE,MAAO,IAAGF,OAAO,CAACG,MAAO,IAAGC,MAAM,CAAC/B,IAAK,EAAE;IACpFgC,KAAK,EAAE;MACLC,SAAS,EAAEtC,YAAY,CAACuC,KAAK;MAC7BC,UAAU,EAAEzB,SAAS,CAACf,YAAY,CAACuC,KAAK;;kBAG1CV,KAAA,CAAAC,aAAA;IACEC,SAAS,EAAEK,MAAM,CAACvC,QAAS;IAC3BwC,KAAK,EAAE;MACLI,WAAW,EAAEzC,YAAY,CAAC0C,iBAAiB,GAAG,KAAK,GAAG,GAAG;MACzDC,SAAS,EAAE3C,YAAY,CAAC4C,sBAAsB,KAAK,UAAU,GAAG,QAAQ,GAAG,SAAS;MACpFC,UAAU,EAAE7C,YAAY,CAAC8C,YAAY,GAAG,MAAM,GAAG,QAAQ;MACzDC,KAAK,EAAE/C,YAAY,CAACgD;;KAGrBnD,QACC,CAAC,eACLgC,KAAA,CAAAC,aAAA;IAAIC,SAAS,EAAEK,MAAM,CAACtC;KACnBA,OAAO,CAAC0B,GAAG,CAAEb,MAAM,iBAClBkB,KAAA,CAAAC,aAAA;IAAImB,GAAG,EAAEtC,MAAM,CAACJ;KACb,CAACF,IAAI,CAACC,KAAK,gBACVuB,KAAA,CAAAC,aAAA;IACEC,SAAS,EAAG,GAAEC,OAAO,CAACC,QAAS,IAAGD,OAAO,CAACE,MAAO,IAAGF,OAAO,CAACG,MAAO,IAAGC,MAAM,CAAC7B,MAAO,IAClF6B,MAAM,CAACpC,YAAY,CAACoB,KAAK,CAC1B,EAAE;IACHiB,KAAK,EAAE;MAAEU,KAAK,EAAE5B,MAAM,CAAC,CAAC,CAAC;MAAE+B,WAAW,EAAE/B,MAAM,CAAC,CAAC;KAAI;IACpDgC,IAAI,EAAC,QAAQ;IACbC,OAAO,EAAEA,MAAMxB,IAAI,CAACjB,MAAM,CAACJ,MAAM;KAEhCI,MAAM,CAACJ,MACF,CAAC,gBAETsB,KAAA,CAAAC,aAAA;IACEC,SAAS,EAAG,GAAEC,OAAO,CAACC,QAAS,IAAGD,OAAO,CAACE,MAAO,IAAGF,OAAO,CAACG,MAAO,IAAGC,MAAM,CAACiB,MAAO,EAAE;IACtFhB,KAAK,EAAE;MAAEU,KAAK,EAAE5B,MAAM,CAAC,CAAC,CAAC;MAAE+B,WAAW,EAAE/B,MAAM,CAAC,CAAC;;kBAEhDU,KAAA,CAAAC,aAAA;IACEC,SAAS,EAAEK,MAAM,CAACkB,IAAK;IACvBjB,KAAK,EAAE;MACLkB,KAAK,EAAE1C,gBAAgB,CAACF,MAAM,CAACC,KAAK,EAAEJ,UAAU,CAAC;MACjDgD,eAAe,EAAErC,MAAM,CAAC,CAAC;;GAE5B,CAAC,eACFU,KAAA,CAAAC,aAAA;IAAKC,SAAS,EAAEK,MAAM,CAACqB;kBACrB5B,KAAA,CAAAC,aAAA;IAAMC,SAAS,EAAEK,MAAM,CAACsB,OAAQ;IAACrB,KAAK,EAAE;MAAEU,KAAK,EAAE5B,MAAM,CAAC,CAAC;;KACtDN,gBAAgB,CAACF,MAAM,CAACC,KAAK,EAAEJ,UAAU,CACtC,CAAC,eACPqB,KAAA,CAAAC,aAAA;IACEC,SAAS,EAAG,GAAEK,MAAM,CAACzB,MAAO,IAAGA,MAAM,CAACJ,MAAM,KAAKF,IAAI,CAACE,MAAM,GAAG6B,MAAM,CAACR,IAAI,GAAG,EAAG,EAAE;IAClFS,KAAK,EAAE;MAAEU,KAAK,EAAE5B,MAAM,CAAC,CAAC;;KAEvBR,MAAM,CAACJ,MACJ,CACH,CACF,CAEL,CACL,CACC,CAAC,eACLsB,KAAA,CAAAC,aAAA;IAAGC,SAAS,EAAEK,MAAM,CAACxB;KAAS,GAAEJ,UAAW,QAAOA,UAAU,KAAK,CAAC,GAAG,GAAG,GAAG,EAAG,EAAK,CAC5E,CAAC;CAEb;;;;"}
{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/ReactSurvey/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useState, useEffect } from 'react';\n\nimport './index.css';\n\ntype ThemeColor = [string, string, string];\n\ninterface Themes {\n  [key: string]: ThemeColor;\n}\n\nconst themes: Themes = {\n  purple: ['#6D4B94', '#7C6497', '#6D4B943B'],\n  red: ['#E23D3D', '#EF4545', '#FF28283B'],\n  blue: ['#5674E0', '#5674E0', '#5674E03B'],\n  black: ['#303030', '#303030', '#3030303B'],\n  white: ['#ffffff', '#ffffff', '#ffffff3B'],\n  cyan: ['#00BCDD', '#00BCDD', '#00BCDD3B'],\n};\ninterface Answer {\n  option: string;\n  votes: number;\n}\n\ninterface ReactSurveyProps {\n  question: string;\n  answers: Answer[];\n  onVote: (answer: Answer) => void;\n  userEmail?: string;\n  listVoted?: string[];\n  customStyles?: {\n    questionSeparator: boolean;\n    questionSeparatorWidth: 'question' | 'stretch';\n    questionBold: boolean;\n    questionColor: string;\n    align: 'left' | 'right' | 'center';\n    theme: 'purple' | 'red' | 'blue' | 'black' | 'white' | 'cyan';\n  };\n  disable?: boolean;\n  vote: boolean;\n}\n\nexport const ReactSurvey: React.FC<ReactSurveyProps> = ({\n  question,\n  answers,\n  onVote,\n  customStyles = {\n    questionSeparator: true,\n    questionSeparatorWidth: 'question',\n    questionBold: true,\n    questionColor: '#303030',\n    align: 'center',\n    theme: 'black',\n  },\n  disable = false,\n  vote,\n}) => {\n  const [totalVotes, setTotalVotes] = useState(0);\n\n  const calculatePercent = (votes: number, total: number): string => {\n    if (votes === 0 && total === 0) {\n      return '0%';\n    }\n    const percentage = Math.round((votes / total) * 100);\n    const clampedPercentage = Math.min(percentage, 100);\n\n    return `${clampedPercentage}%`;\n  };\n\n  const alignPoll = (customAlign: string) => {\n    if (customAlign === 'left') {\n      return 'flex-start';\n    } else if (customAlign === 'right') {\n      return 'flex-end';\n    } else {\n      return 'center';\n    }\n  };\n  const obtainColors = (customTheme: string) => {\n    const colors = themes[customTheme];\n    if (!colors) {\n      return themes['black'];\n    }\n    return colors;\n  };\n\n  const colors = obtainColors(customStyles.theme);\n\n  useEffect(() => {\n    setTotalVotes(answers.reduce((total, answer) => total + answer.votes, 0));\n  }, []);\n\n  const votedHandler = () => {\n    if (!disable && !vote) {\n      setTotalVotes(totalVotes + 1);\n    }\n  };\n\n  return (\n    <article\n      className={`animate__animated animate__fadeIn animate__faster poll`}\n      style={{\n        textAlign: customStyles.align,\n        alignItems: alignPoll(customStyles.align),\n      }}\n    >\n      <h3\n        className='question'\n        style={{\n          borderWidth: customStyles.questionSeparator ? '1px' : '0',\n          alignSelf: customStyles.questionSeparatorWidth === 'question' ? 'center' : 'stretch',\n          fontWeight: customStyles.questionBold ? 'bold' : 'normal',\n          color: customStyles.questionColor,\n        }}\n      >\n        {question}\n      </h3>\n      <ul className='answers'>\n        {answers.map((answer: { option: string; votes: number }) => (\n          <li key={answer.option}>\n            {!vote ? (\n              <button\n                className={`animate__animated  animate__fadeIn animate__faster  option ${customStyles.theme}`}\n                style={{ color: colors[0], borderColor: colors[1] }}\n                type='button'\n                onClick={(e) => {\n                  onVote(answer);\n                  votedHandler();\n                }}\n                aria-label={answer.option}\n                disabled={disable}\n              >\n                {answer.option}\n              </button>\n            ) : (\n              <div\n                className={`animate__animated animate__fadeIn animate__faster result`}\n                style={{ color: colors[0], borderColor: colors[1], padding: '0px 15px' }}\n              >\n                <div\n                  className='fill'\n                  style={{\n                    width: calculatePercent(answer.votes, totalVotes),\n                    backgroundColor: colors[2],\n                  }}\n                />\n                <div className='label'>\n                  <span className='percent' style={{ color: colors[0] }}>\n                    {calculatePercent(answer.votes, totalVotes)}\n                  </span>\n                  <span className={`answer ${vote ? 'vote' : ''}`} style={{ color: colors[0] }}>\n                    {answer.option}\n                  </span>\n                </div>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n      <p className='votes'>{`${totalVotes} vote${totalVotes !== 1 ? 's' : ''}`}</p>\n    </article>\n  );\n};\n"],"names":["useState","useEffect"],"mappings":"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","x_google_ignoreList":[0]}